{% extends "base.html" %}
{% block content %}
<h1>Your Tasks</h1>
<p><a href="{% url 'tasks:create' %}">+ New Task</a></p>

<ul>
  {% for t in object_list %}
    <li>
      <form method="post" action="{% url 'tasks:toggle' t.pk %}" style="display:inline">
        {% csrf_token %}
        <button type="submit" aria-label="Toggle done">
          [{% if t.is_done %}✓{% else %}&nbsp;{% endif %}]
        </button>
      </form>
      <strong>{{ t.title }}</strong> — {{ t.due_date|default:"no due date" }}
      <a href="{% url 'tasks:update' t.pk %}">edit</a>
      <a href="{% url 'tasks:delete' t.pk %}">delete</a>
    </li>
  {% empty %}
    <li>No tasks yet.</li>
  {% endfor %}
</ul>
{% endblock %}
