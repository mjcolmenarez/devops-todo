{% extends "base.html" %}
{% block content %}
<h1>Your Tasks</h1>
<p><a class="btn" href="{% url 'tasks:create' %}">+ New Task</a></p>

<ul class="list">
  {% for t in object_list %}
    <li>
      <form method="post" action="{% url 'tasks:toggle' t.pk %}">
        {% csrf_token %}
        <button class="toggle" type="submit" aria-label="Toggle done">
          {% if t.is_done %}âœ“{% else %}&nbsp;{% endif %}
        </button>
      </form>

      <div class="{% if t.is_done %}done{% endif %}">
        <strong>{{ t.title }}</strong>
        <div class="muted">
          {{ t.due_date|date:"m/d/Y"|default:"no due date" }}
        </div>
      </div>

      <a class="linkbtn" href="{% url 'tasks:update' t.pk %}">edit</a>
      <a class="linkbtn" href="{% url 'tasks:delete' t.pk %}">delete</a>
    </li>
  {% empty %}
    <li class="muted">No tasks yet.</li>
  {% endfor %}
</ul>
{% endblock %}

